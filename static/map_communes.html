<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_communes_main {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
</head>
<body>
    
    
            <div class="folium-map" id="map_communes_main" ></div>
        
</body>
<script>
    
    
            var map_communes_main = L.map(
                "map_communes_main",
                {
                    center: [46.2276, 2.2137],
                    crs: L.CRS.EPSG3857,
                    zoom: 6,
                    zoomControl: true,
                    preferCanvas: false
                }
            );

            

        
    
            var tile_layer_communes = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_communes.addTo(map_communes_main);
        
    
            // Exemple de marqueurs pour quelques grandes villes françaises avec tooltips
            var paris = L.circleMarker(
                [48.8566, 2.3522],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 2}
            ).addTo(map_communes_main);
            paris.bindTooltip("<b>Paris</b><br>Population: ~2.1M", {permanent: false, direction: "top"});
            paris.bindPopup("<b>Paris</b><br>Code: 75056<br>Population: ~2,100,000");
        
    
            var lyon = L.circleMarker(
                [45.7640, 4.8357],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 7, "stroke": true, "weight": 2}
            ).addTo(map_communes_main);
            lyon.bindTooltip("<b>Lyon</b><br>Population: ~520K", {permanent: false, direction: "top"});
            lyon.bindPopup("<b>Lyon</b><br>Code: 69123<br>Population: ~520,000");
        
    
            var marseille = L.circleMarker(
                [43.2965, 5.3698],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 7, "stroke": true, "weight": 2}
            ).addTo(map_communes_main);
            marseille.bindTooltip("<b>Marseille</b><br>Population: ~870K", {permanent: false, direction: "top"});
            marseille.bindPopup("<b>Marseille</b><br>Code: 13055<br>Population: ~870,000");
        
    
            var toulouse = L.circleMarker(
                [43.6047, 1.4442],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 2}
            ).addTo(map_communes_main);
            toulouse.bindTooltip("<b>Toulouse</b><br>Population: ~490K", {permanent: false, direction: "top"});
            toulouse.bindPopup("<b>Toulouse</b><br>Code: 31555<br>Population: ~490,000");
        
    
            var nice = L.circleMarker(
                [43.7102, 7.2620],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 2}
            ).addTo(map_communes_main);
            nice.bindTooltip("<b>Nice</b><br>Population: ~340K", {permanent: false, direction: "top"});
            nice.bindPopup("<b>Nice</b><br>Code: 06088<br>Population: ~340,000");
        
    
            var nantes = L.circleMarker(
                [47.2184, -1.5536],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 2}
            ).addTo(map_communes_main);
            nantes.bindTooltip("<b>Nantes</b><br>Population: ~310K", {permanent: false, direction: "top"});
            nantes.bindPopup("<b>Nantes</b><br>Code: 44109<br>Population: ~310,000");
        
    
            var strasbourg = L.circleMarker(
                [48.5734, 7.7521],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 2}
            ).addTo(map_communes_main);
            strasbourg.bindTooltip("<b>Strasbourg</b><br>Population: ~280K", {permanent: false, direction: "top"});
            strasbourg.bindPopup("<b>Strasbourg</b><br>Code: 67482<br>Population: ~280,000");
        
    
            var montpellier = L.circleMarker(
                [43.6109, 3.8767],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 2}
            ).addTo(map_communes_main);
            montpellier.bindTooltip("<b>Montpellier</b><br>Population: ~290K", {permanent: false, direction: "top"});
            montpellier.bindPopup("<b>Montpellier</b><br>Code: 34172<br>Population: ~290,000");
        
    
            var bordeaux = L.circleMarker(
                [44.8378, -0.5792],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 2}
            ).addTo(map_communes_main);
            bordeaux.bindTooltip("<b>Bordeaux</b><br>Population: ~260K", {permanent: false, direction: "top"});
            bordeaux.bindPopup("<b>Bordeaux</b><br>Code: 33063<br>Population: ~260,000");
        
    
            var lille = L.circleMarker(
                [50.6292, 3.0573],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 2}
            ).addTo(map_communes_main);
            lille.bindTooltip("<b>Lille</b><br>Population: ~235K", {permanent: false, direction: "top"});
            lille.bindPopup("<b>Lille</b><br>Code: 59350<br>Population: ~235,000");
        
    
            var rennes = L.circleMarker(
                [48.1173, -1.6778],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(map_communes_main);
            rennes.bindTooltip("<b>Rennes</b><br>Population: ~220K", {permanent: false, direction: "top"});
            rennes.bindPopup("<b>Rennes</b><br>Code: 35238<br>Population: ~220,000");
        
    
            // Ajouter une légende
            var legend = L.control({position: 'bottomleft'});
            legend.onAdd = function (map) {
                var div = L.DomUtil.create('div', 'info legend');
                div.style.backgroundColor = 'white';
                div.style.padding = '10px';
                div.style.border = '2px solid grey';
                div.style.borderRadius = '5px';
                div.style.fontSize = '14px';
                div.innerHTML = '<p style="margin: 0 0 10px 0; font-weight: bold; font-size: 16px;">Légende</p>' +
                    '<p style="margin: 5px 0;"><span style="color:blue; font-size: 20px;">●</span> Communes</p>' +
                    '<p style="margin: 10px 0 0 0; font-size: 12px; color: #666;">Survolez un marqueur pour plus d\'infos</p>';
                return div;
            };
            legend.addTo(map_communes_main);
        
</script>
</html>


